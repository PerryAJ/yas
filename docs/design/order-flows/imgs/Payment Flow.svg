<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1920px" preserveAspectRatio="none" style="width:2981px;height:1920px;background:#FFFFFF;" version="1.1" viewBox="0 0 2981 1920" width="2981px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="96" x="1439.75" y="29.5332">Payment Flow</text><rect fill="#DDDDDD" height="1870.2891" style="stroke:#181818;stroke-width:0.5;" width="1840.5" x="578" y="44.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="26" x="1485.25" y="58.1045">YAS</text><rect fill="#EAFAF1" height="1870.2891" style="stroke:#181818;stroke-width:0.5;" width="555" x="2420.5" y="44.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="114" x="2641" y="58.1045">Payment Provider</text><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="48.5" y="1194.3516"/><rect fill="#FDF2E9" height="1040.7813" style="stroke:#181818;stroke-width:1.0;" width="10" x="615.5" y="153.5703"/><rect fill="#FDF2E9" height="222.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="615.5" y="1601.8281"/><rect fill="#3498DB" height="980.0781" style="stroke:#181818;stroke-width:1.0;" width="10" x="1253.5" y="183.9219"/><rect fill="#3498DB" height="134.3125" style="stroke:#181818;stroke-width:1.0;" width="10" x="1253.5" y="1406.8125"/><rect fill="#3498DB" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1253.5" y="1687.8828"/><rect fill="#73C6B6" height="372.7344" style="stroke:#181818;stroke-width:1.0;" width="10" x="1720.5" y="691.8594"/><rect fill="#73C6B6" height="121.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1720.5" y="1285.4063"/><rect fill="#808B96" height="115.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="1852" y="304.2344"/><rect fill="#FAD7A0" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2342.5" y="1346.1094"/><rect fill="#FAD7A0" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2342.5" y="1510.7734"/><rect fill="#73C6B6" height="120.3125" style="stroke:#181818;stroke-width:1.0;" width="10" x="2482.5" y="883.5781"/><rect fill="#73C6B6" height="346.7734" style="stroke:#181818;stroke-width:1.0;" width="10" x="2482.5" y="1224.7031"/><rect fill="#F1948A" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="1309.5" x="10" y="553.1016"/><rect fill="none" height="170.1094" style="stroke:#000000;stroke-width:1.5;" width="1655.5" x="10" y="1647.1797"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="53" x2="53" y1="121.2188" y2="1834.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="620" x2="620" y1="121.2188" y2="1834.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1258.5" x2="1258.5" y1="121.2188" y2="1834.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1546.5" x2="1546.5" y1="231.7266" y2="1834.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1633.5" x2="1633.5" y1="1484.9688" y2="1834.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1725.5" x2="1725.5" y1="121.2188" y2="1834.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1856.5" x2="1856.5" y1="121.2188" y2="1834.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2207.5" x2="2207.5" y1="841.4219" y2="1834.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2347.5" x2="2347.5" y1="121.2188" y2="1834.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2487.5" x2="2487.5" y1="121.2188" y2="1834.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2878.5" x2="2878.5" y1="931.3828" y2="1834.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="20" y="118.1426">Customer</text><ellipse cx="53.5" cy="52.1094" fill="#FAD7A0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M53.5,60.1094 L53.5,87.1094 M40.5,68.1094 L66.5,68.1094 M53.5,87.1094 L40.5,102.1094 M53.5,87.1094 L66.5,102.1094 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="20" y="1847.8223">Customer</text><ellipse cx="53.5" cy="1859.3984" fill="#FAD7A0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M53.5,1867.3984 L53.5,1894.3984 M40.5,1875.3984 L66.5,1875.3984 M53.5,1894.3984 L40.5,1909.3984 M53.5,1894.3984 L66.5,1909.3984 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#FDF2E9" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77" x="582" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="589" y="110.1426">Storefront</text><rect fill="#FDF2E9" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77" x="582" y="1833.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="589" y="1854.8223">Storefront</text><rect fill="#3498DB" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="1207.5" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="1214.5" y="110.1426">Order Service</text><rect fill="#3498DB" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="1207.5" y="1833.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="1214.5" y="1854.8223">Order Service</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="1513.5" y="1847.8223">Checkout</text><ellipse cx="1546.5" cy="1866.8984" fill="#3498DB" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="1534.5" x2="1558.5" y1="1880.8984" y2="1880.8984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="1612.5" y="1847.8223">Order</text><ellipse cx="1634" cy="1866.8984" fill="#3498DB" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="1622" x2="1646" y1="1880.8984" y2="1880.8984"/><rect fill="#73C6B6" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="1665.5" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="1672.5" y="110.1426">Payment Service</text><rect fill="#73C6B6" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="1665.5" y="1833.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="1672.5" y="1854.8223">Payment Service</text><rect fill="#808B96" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123" x="1795.5" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="1802.5" y="110.1426">Inventory Service</text><rect fill="#808B96" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123" x="1795.5" y="1833.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="1802.5" y="1854.8223">Inventory Service</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="2145.5" y="1847.8223">Checkout Payment</text><ellipse cx="2208" cy="1866.8984" fill="#73C6B6" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="2196" x2="2220" y1="1880.8984" y2="1880.8984"/><rect fill="#FAD7A0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134" x="2280.5" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="2287.5" y="110.1426">Notification Service</text><rect fill="#FAD7A0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134" x="2280.5" y="1833.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="2287.5" y="1854.8223">Notification Service</text><rect fill="#73C6B6" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="2424.5" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="2431.5" y="110.1426">Payment Provider</text><rect fill="#73C6B6" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="2424.5" y="1833.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="2431.5" y="1854.8223">Payment Provider</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="2785.5" y="1847.8223">Payment Provider: Checkout</text><ellipse cx="2878.5" cy="1866.8984" fill="#73C6B6" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="2866.5" x2="2890.5" y1="1880.8984" y2="1880.8984"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="48.5" y="1194.3516"/><rect fill="#FDF2E9" height="1040.7813" style="stroke:#181818;stroke-width:1.0;" width="10" x="615.5" y="153.5703"/><rect fill="#FDF2E9" height="222.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="615.5" y="1601.8281"/><rect fill="#3498DB" height="980.0781" style="stroke:#181818;stroke-width:1.0;" width="10" x="1253.5" y="183.9219"/><rect fill="#3498DB" height="134.3125" style="stroke:#181818;stroke-width:1.0;" width="10" x="1253.5" y="1406.8125"/><rect fill="#3498DB" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1253.5" y="1687.8828"/><rect fill="#73C6B6" height="372.7344" style="stroke:#181818;stroke-width:1.0;" width="10" x="1720.5" y="691.8594"/><rect fill="#73C6B6" height="121.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1720.5" y="1285.4063"/><rect fill="#808B96" height="115.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="1852" y="304.2344"/><rect fill="#FAD7A0" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2342.5" y="1346.1094"/><rect fill="#FAD7A0" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2342.5" y="1510.7734"/><rect fill="#73C6B6" height="120.3125" style="stroke:#181818;stroke-width:1.0;" width="10" x="2482.5" y="883.5781"/><rect fill="#73C6B6" height="346.7734" style="stroke:#181818;stroke-width:1.0;" width="10" x="2482.5" y="1224.7031"/><polygon fill="#181818" points="603.5,149.5703,613.5,153.5703,603.5,157.5703,607.5,153.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="53.5" x2="609.5" y1="153.5703" y2="153.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="60.5" y="148.7139">Proceed to checkout</text><polygon fill="#181818" points="1241.5,179.9219,1251.5,183.9219,1241.5,187.9219,1245.5,183.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="625.5" x2="1247.5" y1="183.9219" y2="183.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="322" x="632.5" y="179.0654">POST /order/checkouts/{checkout_id}/process-payment</text><polygon fill="#181818" points="1501.5,210.2734,1511.5,214.2734,1501.5,218.2734,1505.5,214.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1263.5" x2="1507.5" y1="214.2734" y2="214.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="1270.5" y="209.417">find by {checkout_id}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="1513.5" y="238.4551">Checkout</text><ellipse cx="1546.5" cy="207.9219" fill="#3498DB" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="1534.5" x2="1558.5" y1="221.9219" y2="221.9219"/><polygon fill="#181818" points="1274.5,269.8828,1264.5,273.8828,1274.5,277.8828,1270.5,273.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1268.5" x2="1545.5" y1="273.8828" y2="273.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="1280.5" y="269.0264">checkout</text><polygon fill="#181818" points="1840,300.2344,1850,304.2344,1840,308.2344,1844,304.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1263.5" x2="1846" y1="304.2344" y2="304.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="293" x="1270.5" y="299.3779">POST /inventory/products/stocks { product_items }</text><path d="M1268,317.2344 L1268,392.2344 L1460,392.2344 L1460,327.2344 L1450,317.2344 L1268,317.2344 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1450,317.2344 L1450,327.2344 L1460,327.2344 L1450,317.2344 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="1274" y="335.7295">lock stocks for product_items</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="1274" y="352.0811">product_items:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="1282" y="368.4326">- product_id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="1282" y="384.7842">- quantity</text><polygon fill="#181818" points="1274.5,415.9922,1264.5,419.9922,1274.5,423.9922,1270.5,419.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1268.5" x2="1856" y1="419.9922" y2="419.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="1280.5" y="415.1357">confirmation { product_items }</text><path d="M1862,432.9922 L1862,540.9922 L2121,540.9922 L2121,442.9922 L2111,432.9922 L1862,432.9922 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2111,432.9922 L2111,442.9922 L2121,442.9922 L2111,432.9922 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238" x="1868" y="451.4873">Stock confirmation, list out state of stock</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1868" y="467.8389">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="1876" y="484.1904">&lt;product_id_01&gt;: OK,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="1876" y="500.542">&lt;product_id_02&gt;: OUT_OF_STOCK,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="1876" y="516.8936">&lt;product_id_03&gt;: OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1868" y="533.2451">}</text><path d="M10,553.1016 L71,553.1016 L71,561.4531 L61,571.4531 L10,571.4531 L10,553.1016 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="1309.5" x="10" y="553.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="567.5967">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="106" x="86" y="566.5205">["any out of stock"]</text><polygon fill="#181818" points="636.5,589.8047,626.5,593.8047,636.5,597.8047,632.5,593.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="630.5" x2="1252.5" y1="593.8047" y2="593.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="604" x="642.5" y="588.9482">400 Bad Request { ERROR_CODE: OUT_OF_STOCK, payload: { &lt;product_id_02&gt;: OUT_OF_STOCK } }</text><polygon fill="#181818" points="64.5,620.1563,54.5,624.1563,64.5,628.1563,60.5,624.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58.5" x2="614.5" y1="624.1563" y2="624.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="70.5" y="619.2998">out of stock error</text><polygon fill="#181818" points="1534.5,657.5078,1544.5,661.5078,1534.5,665.5078,1538.5,661.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1263.5" x2="1540.5" y1="661.5078" y2="661.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259" x="1270.5" y="656.6514">update { status=PAYMENT_PROCESSING }</text><polygon fill="#181818" points="1708.5,687.8594,1718.5,691.8594,1708.5,695.8594,1712.5,691.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1263.5" x2="1714.5" y1="691.8594" y2="691.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="1270.5" y="687.0029">POST /payment/payments { checkout }</text><path d="M1268,704.8594 L1268,795.8594 L1405,795.8594 L1405,714.8594 L1395,704.8594 L1268,704.8594 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1395,704.8594 L1395,714.8594 L1405,714.8594 L1395,704.8594 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="1274" y="723.3545">checkout includes:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="1282" y="739.7061">- payment_method</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="1282" y="756.0576">- product_items</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="1282" y="772.4092">- shipment_fees</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="1282" y="788.7607">- taxes</text><polygon fill="#181818" points="2133.5,819.9688,2143.5,823.9688,2133.5,827.9688,2137.5,823.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1730.5" x2="2139.5" y1="823.9688" y2="823.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="391" x="1737.5" y="819.1123">{ checkout_id, product_items, shipment_fees, taxes, status=NEW }</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="2145.5" y="848.1504">Checkout Payment</text><ellipse cx="2208" cy="817.6172" fill="#73C6B6" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="2196" x2="2220" y1="831.6172" y2="831.6172"/><polygon fill="#181818" points="2470.5,879.5781,2480.5,883.5781,2470.5,887.5781,2474.5,883.5781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1730.5" x2="2476.5" y1="883.5781" y2="883.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="448" x="1737.5" y="878.7217">POST /checkout/orders { checkout_id, product_items, shipment_fees, taxes }</text><polygon fill="#181818" points="2773.5,909.9297,2783.5,913.9297,2773.5,917.9297,2777.5,913.9297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2492.5" x2="2779.5" y1="913.9297" y2="913.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="2499.5" y="909.0732">create checkout</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="2785.5" y="938.1113">Payment Provider: Checkout</text><ellipse cx="2878.5" cy="907.5781" fill="#73C6B6" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="2866.5" x2="2890.5" y1="921.5781" y2="921.5781"/><polygon fill="#181818" points="2503.5,969.5391,2493.5,973.5391,2503.5,977.5391,2499.5,973.5391" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2497.5" x2="2877.5" y1="973.5391" y2="973.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="2509.5" y="968.6826">{ payment_provider_checkout_id }</text><polygon fill="#181818" points="1741.5,999.8906,1731.5,1003.8906,1741.5,1007.8906,1737.5,1003.8906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1735.5" x2="2486.5" y1="1003.8906" y2="1003.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272" x="1747.5" y="999.0342">{ checkout_id, payment_provider_checkout_id }</text><polygon fill="#181818" points="2196,1030.2422,2206,1034.2422,2196,1038.2422,2200,1034.2422" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1730.5" x2="2202" y1="1034.2422" y2="1034.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="375" x="1737.5" y="1029.3857">update { status=PROCESSING, payment_provider_checkout_id }</text><polygon fill="#181818" points="1274.5,1060.5938,1264.5,1064.5938,1274.5,1068.5938,1270.5,1064.5938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1268.5" x2="1724.5" y1="1064.5938" y2="1064.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="308" x="1280.5" y="1059.7373">checkout_payment { payment_provider_checkout_id }</text><path d="M1268,1077.5938 L1268,1136.5938 L1483,1136.5938 L1483,1087.5938 L1473,1077.5938 L1268,1077.5938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1473,1077.5938 L1473,1087.5938 L1483,1087.5938 L1473,1077.5938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="1274" y="1096.0889">checkout_payment:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="1282" y="1112.4404">- payment_provider_checkout_id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="1282" y="1128.792">- checkout</text><polygon fill="#181818" points="636.5,1160,626.5,1164,636.5,1168,632.5,1164" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="630.5" x2="1257.5" y1="1164" y2="1164"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="642.5" y="1159.1436">checkout_payment</text><polygon fill="#181818" points="69.5,1190.3516,59.5,1194.3516,69.5,1198.3516,65.5,1194.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="63.5" x2="619.5" y1="1194.3516" y2="1194.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="538" x="75.5" y="1189.4951">redirect to payment_provider : Payment Provider: Checkout { payment_provider_checkout_id }</text><polygon fill="#181818" points="2470.5,1220.7031,2480.5,1224.7031,2470.5,1228.7031,2474.5,1224.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="53.5" x2="2476.5" y1="1224.7031" y2="1224.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="298" x="60.5" y="1219.8467">execute payment { payment_provider_checkout_id }</text><polygon fill="#181818" points="2866.5,1251.0547,2876.5,1255.0547,2866.5,1259.0547,2870.5,1255.0547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2492.5" x2="2872.5" y1="1255.0547" y2="1255.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="362" x="2499.5" y="1250.1982">update { status=COMPETED, payment_provider_checkout_id }</text><polygon fill="#181818" points="1741.5,1281.4063,1731.5,1285.4063,1741.5,1289.4063,1737.5,1285.4063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1735.5" x2="2481.5" y1="1285.4063" y2="1285.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="455" x="1747.5" y="1280.5498">{ checkout_id, payment_provider_checkout_id, status=COMPETED/FAILURE }</text><polygon fill="#181818" points="2196,1311.7578,2206,1315.7578,2196,1319.7578,2200,1315.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1730.5" x2="2202" y1="1315.7578" y2="1315.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="1737.5" y="1310.9014">update { status=COMPLETED }</text><polygon fill="#181818" points="2330.5,1342.1094,2340.5,1346.1094,2330.5,1350.1094,2334.5,1346.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1730.5" x2="2336.5" y1="1346.1094" y2="1346.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284" x="1737.5" y="1341.2529">Event: PaymentCompleted { checkout_payment }</text><polygon fill="#181818" points="64.5,1372.4609,54.5,1376.4609,64.5,1380.4609,60.5,1376.4609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58.5" x2="2346.5" y1="1376.4609" y2="1376.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="70.5" y="1371.6045">notification for payment completion</text><polygon fill="#181818" points="1274.5,1402.8125,1264.5,1406.8125,1274.5,1410.8125,1270.5,1406.8125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1268.5" x2="1724.5" y1="1406.8125" y2="1406.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244" x="1280.5" y="1401.9561">Event: PaymentCompleted { checkout_id }</text><polygon fill="#181818" points="1534.5,1433.1641,1544.5,1437.1641,1534.5,1441.1641,1538.5,1437.1641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1263.5" x2="1540.5" y1="1437.1641" y2="1437.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250" x="1270.5" y="1432.3076">update { status=PAYMENT_CONFIRMED }</text><polygon fill="#181818" points="1600.5,1463.5156,1610.5,1467.5156,1600.5,1471.5156,1604.5,1467.5156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1263.5" x2="1606.5" y1="1467.5156" y2="1467.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325" x="1270.5" y="1462.6592">create { checkout_id, status=PAYMENT_CONFIRMED }</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="1612.5" y="1491.6973">Order</text><ellipse cx="1634" cy="1461.1641" fill="#3498DB" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="1622" x2="1646" y1="1475.1641" y2="1475.1641"/><polygon fill="#181818" points="2330.5,1506.7734,2340.5,1510.7734,2330.5,1514.7734,2334.5,1510.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1263.5" x2="2336.5" y1="1510.7734" y2="1510.7734"/><polygon fill="#181818" points="64.5,1537.125,54.5,1541.125,64.5,1545.125,60.5,1541.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58.5" x2="2346.5" y1="1541.125" y2="1541.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="70.5" y="1536.2686">notification for order creation</text><polygon fill="#181818" points="64.5,1567.4766,54.5,1571.4766,64.5,1575.4766,60.5,1571.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58.5" x2="2486.5" y1="1571.4766" y2="1571.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="70.5" y="1566.6201">redirect to storefront with confirmation</text><polygon fill="#181818" points="603.5,1597.8281,613.5,1601.8281,603.5,1605.8281,607.5,1601.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="53.5" x2="609.5" y1="1601.8281" y2="1601.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="60.5" y="1596.9717">confirmation page</text><polygon fill="#181818" points="64.5,1628.1797,54.5,1632.1797,64.5,1636.1797,60.5,1632.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58.5" x2="614.5" y1="1632.1797" y2="1632.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="70.5" y="1627.3232">payment confirmation</text><path d="M10,1647.1797 L83,1647.1797 L83,1655.5313 L73,1665.5313 L10,1665.5313 L10,1647.1797 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="170.1094" style="stroke:#000000;stroke-width:1.5;" width="1655.5" x="10" y="1647.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="25" y="1661.6748">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="122" x="98" y="1660.5986">["reload to get order"]</text><polygon fill="#181818" points="1241.5,1683.8828,1251.5,1687.8828,1241.5,1691.8828,1245.5,1687.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="625.5" x2="1247.5" y1="1687.8828" y2="1687.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="242" x="632.5" y="1683.0264">GET /order/orders/checkout/{checkout_id}</text><polygon fill="#181818" points="1622,1714.2344,1632,1718.2344,1622,1722.2344,1626,1718.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1263.5" x2="1628" y1="1718.2344" y2="1718.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="1270.5" y="1713.3779">find order by {checkout_id}</text><polygon fill="#181818" points="1269.5,1744.5859,1259.5,1748.5859,1269.5,1752.5859,1265.5,1748.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1263.5" x2="1633" y1="1748.5859" y2="1748.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="1275.5" y="1743.7295">order</text><polygon fill="#181818" points="636.5,1774.9375,626.5,1778.9375,636.5,1782.9375,632.5,1778.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="630.5" x2="1257.5" y1="1778.9375" y2="1778.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="642.5" y="1774.0811">order</text><polygon fill="#181818" points="64.5,1805.2891,54.5,1809.2891,64.5,1813.2891,60.5,1809.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58.5" x2="614.5" y1="1809.2891" y2="1809.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="70.5" y="1804.4326">redirect to order details</text><!--SRC=[lLZVRzew57xFNt54toOGTAswDjgTrClIgRehGS1qjQSeJPnY3KYM65Q4-h_FTXp7ZfqqtPKkBnJRvpk_ldEENOB91i4yF6xHZi3T9ltbE654qXoc-uAaMvH3M41K_NsMXF67SE8uZ-apVBzTEa0_MPWJ7E4if0Y39PL5IPxko8195l8dbOsJz-W6nCSKzVEOgbYY_80ZnALJjX8KvGgSNLpUNCUFKfXQZCaH1jCrYdwa-r9X97vKfxMJN4EDh9tHJAa2eXgJbMkrEHykegl7ArFuVdUWvzByg8dZQhK6k9vSFzvSMNsfKgBv50WJsbNFKe8J78K4fpjD-qxPg0qGsKIx65X2oxHAv-TvUi0yO6SeJCBal3rEzL4bK9bOrCoj76rAkg2biOaHr7aLOC9env7a77rIwEOov0YX64Wg0yYeZGyXGNPUKWELTGgdyOyY-iiLZFdYk88inYUP7Xo_Z3EcjIX6mW4AANLQsSo3ekzGnTBRT-zSI31pzGYQ8elSnz582hgrprO51Xihx-G6yoJUHzH16fFeHm4d42i19cXRG6a29HQ273-j2QI9hiSf2tr3fK5W9BInQ2ZYZBRcEbMF6DKRiRBuSnzo5Wb2nTm8_aF6khlQmB8_ClCTfRi4vzkockpkDmDWu4gpbom26kGGDhYWKZJD1U44ISeuIPcJ_0lWOnsAO7B-oGN_ds7Rzdks_MqL-7V1SkLFsmzUS1ovM_canJH6xL4jWxvXHNH-StaTmY3S7Rb7bIy30TbWOADMBoSJ-3kCOO5-xX6DoGcynS9V15F_izTmXRM6JHh6BZtKwJIyI7_KgcRL9Jg6graAAC_JlE9KTrswiCzY5f4JJzs- -6j- -_t1cws2-SAVUilb_UmBlDWn6dEaAZonN7spUfDTe6-fIG6yYpRx6Ecb9FHk4LcdiQt6b89awyKQPrmYGKXT9-6p-5tn1FJYQvcKojm7uumIN3dcMFDJma2pFDID7Ues3alJXbLEPjw_aW8MVSqPKsMYqbTs-k8FB91QZP1OPw9gdpnWCJ3GnaAK8uQizNah4fiBhL2iZ5etgR_I5JE4DbpNY5OVRAN5DC_tfukb9cKjzhJ3dAT6iHeaxHc-ruiNJ8-KjZtgLACTR312Br9Bg5Kpb4x9t6yEnARpPJqhc4t7MZjlZcASeuYmwvd1M1VQhuUl1rmnfrPVN_qg6wXrwjNHP39wHj6-ZjER54ibVJh0cshVfFdKVvXxA-_pQoJdkJ9rsKRI6ufus3HZV7Tx__NRmkFKVsqcE7zSt4pTLwPFb9W1Gb5ihnuNl0C751IRfjjiWmXzA9nCVh_eWwtp5INht3oYKryzKjw8XRQeD8KkDqlLXjhgTQDeUxWh-bHdR_WlpvZswzBKdztTBnva5Wq8li0l0cBUDQZvDhmMJlmlMIx_vS2zw9_XZjPghMHxWrMwy2zCrjehnEaQlcrlQ-rbb8LFgEjbtJK6Qkeh5h4tOvh184VieiySU4Aaz7_Gd58ctxzuyf5UNk3g2vtvWkx1wZPIYeTvcLRhyznseH2Y_Al90VDMq3sEQv1UOxQqD4Oan1jsVsSNWvPX-Hi0]--></g></svg>