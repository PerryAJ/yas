<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1985px" preserveAspectRatio="none" style="width:3524px;height:1985px;background:#FFFFFF;" version="1.1" viewBox="0 0 3524 1985" width="3524px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="96" x="1715.25" y="29.5332">Payment Flow</text><rect fill="#DDDDDD" height="1934.8281" style="stroke:#181818;stroke-width:0.5;" width="2376.5" x="578" y="44.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="26" x="1753.25" y="58.1045">YAS</text><rect fill="#EAFAF1" height="1934.8281" style="stroke:#181818;stroke-width:0.5;" width="555" x="2956.5" y="44.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="114" x="3177" y="58.1045">Payment Provider</text><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="48.5" y="1258.8906"/><rect fill="#FDF2E9" height="1105.3203" style="stroke:#181818;stroke-width:1.0;" width="10" x="615.5" y="153.5703"/><rect fill="#FDF2E9" height="222.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="615.5" y="1666.3672"/><rect fill="#3498DB" height="1044.6172" style="stroke:#181818;stroke-width:1.0;" width="10" x="1253.5" y="183.9219"/><rect fill="#3498DB" height="134.3125" style="stroke:#181818;stroke-width:1.0;" width="10" x="1253.5" y="1471.3516"/><rect fill="#3498DB" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1253.5" y="1752.4219"/><rect fill="#73C6B6" height="420.9219" style="stroke:#181818;stroke-width:1.0;" width="10" x="1720.5" y="691.8594"/><rect fill="#73C6B6" height="121.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1720.5" y="1349.9453"/><rect fill="#808B96" height="115.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="1852" y="304.2344"/><rect fill="#FAD7A0" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2878.5" y="1410.6484"/><rect fill="#FAD7A0" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2878.5" y="1575.3125"/><rect fill="#73C6B6" height="120.3125" style="stroke:#181818;stroke-width:1.0;" width="10" x="3018.5" y="849.3203"/><rect fill="#73C6B6" height="346.7734" style="stroke:#181818;stroke-width:1.0;" width="10" x="3018.5" y="1289.2422"/><rect fill="#F1948A" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="1309.5" x="10" y="553.1016"/><rect fill="none" height="274.8125" style="stroke:#000000;stroke-width:1.5;" width="1862" x="1655.5" y="808.6172"/><rect fill="none" height="170.1094" style="stroke:#000000;stroke-width:1.5;" width="1655.5" x="10" y="1711.7188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="53" x2="53" y1="121.2188" y2="1898.8281"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="620" x2="620" y1="121.2188" y2="1898.8281"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1258.5" x2="1258.5" y1="121.2188" y2="1898.8281"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1546.5" x2="1546.5" y1="231.7266" y2="1898.8281"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1633.5" x2="1633.5" y1="1549.5078" y2="1898.8281"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1725.5" x2="1725.5" y1="121.2188" y2="1898.8281"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1856.5" x2="1856.5" y1="121.2188" y2="1898.8281"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2743.5" x2="2743.5" y1="1017.4375" y2="1898.8281"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2883.5" x2="2883.5" y1="121.2188" y2="1898.8281"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3023.5" x2="3023.5" y1="121.2188" y2="1898.8281"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3414.5" x2="3414.5" y1="897.125" y2="1898.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="20" y="118.1426">Customer</text><ellipse cx="53.5" cy="52.1094" fill="#FAD7A0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M53.5,60.1094 L53.5,87.1094 M40.5,68.1094 L66.5,68.1094 M53.5,87.1094 L40.5,102.1094 M53.5,87.1094 L66.5,102.1094 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="20" y="1912.3613">Customer</text><ellipse cx="53.5" cy="1923.9375" fill="#FAD7A0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M53.5,1931.9375 L53.5,1958.9375 M40.5,1939.9375 L66.5,1939.9375 M53.5,1958.9375 L40.5,1973.9375 M53.5,1958.9375 L66.5,1973.9375 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#FDF2E9" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77" x="582" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="589" y="110.1426">Storefront</text><rect fill="#FDF2E9" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="77" x="582" y="1897.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="589" y="1919.3613">Storefront</text><rect fill="#3498DB" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="1207.5" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="1214.5" y="110.1426">Order Service</text><rect fill="#3498DB" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="1207.5" y="1897.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="1214.5" y="1919.3613">Order Service</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="1513.5" y="1912.3613">Checkout</text><ellipse cx="1546.5" cy="1931.4375" fill="#3498DB" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="1534.5" x2="1558.5" y1="1945.4375" y2="1945.4375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="1612.5" y="1912.3613">Order</text><ellipse cx="1634" cy="1931.4375" fill="#3498DB" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="1622" x2="1646" y1="1945.4375" y2="1945.4375"/><rect fill="#73C6B6" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="1665.5" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="1672.5" y="110.1426">Payment Service</text><rect fill="#73C6B6" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="1665.5" y="1897.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="1672.5" y="1919.3613">Payment Service</text><rect fill="#808B96" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123" x="1795.5" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="1802.5" y="110.1426">Inventory Service</text><rect fill="#808B96" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123" x="1795.5" y="1897.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="1802.5" y="1919.3613">Inventory Service</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="2681.5" y="1912.3613">Checkout Payment</text><ellipse cx="2744" cy="1931.4375" fill="#73C6B6" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="2732" x2="2756" y1="1945.4375" y2="1945.4375"/><rect fill="#FAD7A0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134" x="2816.5" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="2823.5" y="110.1426">Notification Service</text><rect fill="#FAD7A0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134" x="2816.5" y="1897.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="2823.5" y="1919.3613">Notification Service</text><rect fill="#73C6B6" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="2960.5" y="88.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="2967.5" y="110.1426">Payment Provider</text><rect fill="#73C6B6" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="2960.5" y="1897.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="2967.5" y="1919.3613">Payment Provider</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="3321.5" y="1912.3613">Payment Provider: Checkout</text><ellipse cx="3414.5" cy="1931.4375" fill="#73C6B6" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="3402.5" x2="3426.5" y1="1945.4375" y2="1945.4375"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="48.5" y="1258.8906"/><rect fill="#FDF2E9" height="1105.3203" style="stroke:#181818;stroke-width:1.0;" width="10" x="615.5" y="153.5703"/><rect fill="#FDF2E9" height="222.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="615.5" y="1666.3672"/><rect fill="#3498DB" height="1044.6172" style="stroke:#181818;stroke-width:1.0;" width="10" x="1253.5" y="183.9219"/><rect fill="#3498DB" height="134.3125" style="stroke:#181818;stroke-width:1.0;" width="10" x="1253.5" y="1471.3516"/><rect fill="#3498DB" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1253.5" y="1752.4219"/><rect fill="#73C6B6" height="420.9219" style="stroke:#181818;stroke-width:1.0;" width="10" x="1720.5" y="691.8594"/><rect fill="#73C6B6" height="121.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1720.5" y="1349.9453"/><rect fill="#808B96" height="115.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="1852" y="304.2344"/><rect fill="#FAD7A0" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2878.5" y="1410.6484"/><rect fill="#FAD7A0" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2878.5" y="1575.3125"/><rect fill="#73C6B6" height="120.3125" style="stroke:#181818;stroke-width:1.0;" width="10" x="3018.5" y="849.3203"/><rect fill="#73C6B6" height="346.7734" style="stroke:#181818;stroke-width:1.0;" width="10" x="3018.5" y="1289.2422"/><polygon fill="#181818" points="603.5,149.5703,613.5,153.5703,603.5,157.5703,607.5,153.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="53.5" x2="609.5" y1="153.5703" y2="153.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="60.5" y="148.7139">Proceed to checkout</text><polygon fill="#181818" points="1241.5,179.9219,1251.5,183.9219,1241.5,187.9219,1245.5,183.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="625.5" x2="1247.5" y1="183.9219" y2="183.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="322" x="632.5" y="179.0654">POST /order/checkouts/{checkout_id}/process-payment</text><polygon fill="#181818" points="1501.5,210.2734,1511.5,214.2734,1501.5,218.2734,1505.5,214.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1263.5" x2="1507.5" y1="214.2734" y2="214.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="1270.5" y="209.417">find by {checkout_id}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="1513.5" y="238.4551">Checkout</text><ellipse cx="1546.5" cy="207.9219" fill="#3498DB" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="1534.5" x2="1558.5" y1="221.9219" y2="221.9219"/><polygon fill="#181818" points="1274.5,269.8828,1264.5,273.8828,1274.5,277.8828,1270.5,273.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1268.5" x2="1545.5" y1="273.8828" y2="273.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="1280.5" y="269.0264">checkout</text><polygon fill="#181818" points="1840,300.2344,1850,304.2344,1840,308.2344,1844,304.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1263.5" x2="1846" y1="304.2344" y2="304.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="293" x="1270.5" y="299.3779">POST /inventory/products/stocks { product_items }</text><path d="M1268,317.2344 L1268,392.2344 L1460,392.2344 L1460,327.2344 L1450,317.2344 L1268,317.2344 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1450,317.2344 L1450,327.2344 L1460,327.2344 L1450,317.2344 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="1274" y="335.7295">lock stocks for product_items</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="1274" y="352.0811">product_items:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="1282" y="368.4326">- product_id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="1282" y="384.7842">- quantity</text><polygon fill="#181818" points="1274.5,415.9922,1264.5,419.9922,1274.5,423.9922,1270.5,419.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1268.5" x2="1856" y1="419.9922" y2="419.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="1280.5" y="415.1357">confirmation { product_items }</text><path d="M1862,432.9922 L1862,540.9922 L2121,540.9922 L2121,442.9922 L2111,432.9922 L1862,432.9922 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2111,432.9922 L2111,442.9922 L2121,442.9922 L2111,432.9922 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238" x="1868" y="451.4873">Stock confirmation, list out state of stock</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1868" y="467.8389">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="1876" y="484.1904">&lt;product_id_01&gt;: OK,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="1876" y="500.542">&lt;product_id_02&gt;: OUT_OF_STOCK,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="1876" y="516.8936">&lt;product_id_03&gt;: OK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1868" y="533.2451">}</text><path d="M10,553.1016 L71,553.1016 L71,561.4531 L61,571.4531 L10,571.4531 L10,553.1016 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:1.5;" width="1309.5" x="10" y="553.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="567.5967">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="106" x="86" y="566.5205">["any out of stock"]</text><polygon fill="#181818" points="636.5,589.8047,626.5,593.8047,636.5,597.8047,632.5,593.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="630.5" x2="1252.5" y1="593.8047" y2="593.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="604" x="642.5" y="588.9482">400 Bad Request { ERROR_CODE: OUT_OF_STOCK, payload: { &lt;product_id_02&gt;: OUT_OF_STOCK } }</text><polygon fill="#181818" points="64.5,620.1563,54.5,624.1563,64.5,628.1563,60.5,624.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58.5" x2="614.5" y1="624.1563" y2="624.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="70.5" y="619.2998">out of stock error</text><polygon fill="#181818" points="1534.5,657.5078,1544.5,661.5078,1534.5,665.5078,1538.5,661.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1263.5" x2="1540.5" y1="661.5078" y2="661.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259" x="1270.5" y="656.6514">update { status=PAYMENT_PROCESSING }</text><polygon fill="#181818" points="1708.5,687.8594,1718.5,691.8594,1708.5,695.8594,1712.5,691.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1263.5" x2="1714.5" y1="691.8594" y2="691.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="1270.5" y="687.0029">POST /payment/payments { checkout }</text><path d="M1268,704.8594 L1268,795.8594 L1405,795.8594 L1405,714.8594 L1395,704.8594 L1268,704.8594 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1395,704.8594 L1395,714.8594 L1405,714.8594 L1395,704.8594 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="1274" y="723.3545">checkout includes:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="1282" y="739.7061">- payment_method</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="1282" y="756.0576">- product_items</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="1282" y="772.4092">- shipment_fees</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="1282" y="788.7607">- taxes</text><path d="M1655.5,808.6172 L1716.5,808.6172 L1716.5,816.9688 L1706.5,826.9688 L1655.5,826.9688 L1655.5,808.6172 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="274.8125" style="stroke:#000000;stroke-width:1.5;" width="1862" x="1655.5" y="808.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="1670.5" y="823.1123">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="219" x="1731.5" y="822.0361">[checkout.payment_method is not COD]</text><polygon fill="#181818" points="3006.5,845.3203,3016.5,849.3203,3006.5,853.3203,3010.5,849.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1730.5" x2="3012.5" y1="849.3203" y2="849.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="448" x="1737.5" y="844.4639">POST /checkout/orders { checkout_id, product_items, shipment_fees, taxes }</text><polygon fill="#181818" points="3309.5,875.6719,3319.5,879.6719,3309.5,883.6719,3313.5,879.6719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="3028.5" x2="3315.5" y1="879.6719" y2="879.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="3035.5" y="874.8154">create checkout</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180" x="3321.5" y="903.8535">Payment Provider: Checkout</text><ellipse cx="3414.5" cy="873.3203" fill="#73C6B6" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="3402.5" x2="3426.5" y1="887.3203" y2="887.3203"/><polygon fill="#181818" points="3039.5,935.2813,3029.5,939.2813,3039.5,943.2813,3035.5,939.2813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="3033.5" x2="3413.5" y1="939.2813" y2="939.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="3045.5" y="934.4248">{ payment_provider_checkout_id }</text><polygon fill="#181818" points="1741.5,965.6328,1731.5,969.6328,1741.5,973.6328,1737.5,969.6328" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1735.5" x2="3022.5" y1="969.6328" y2="969.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272" x="1747.5" y="964.7764">{ checkout_id, payment_provider_checkout_id }</text><polygon fill="#181818" points="2669.5,995.9844,2679.5,999.9844,2669.5,1003.9844,2673.5,999.9844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1730.5" x2="2675.5" y1="999.9844" y2="999.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="927" x="1737.5" y="995.1279">create { status=PROCESSING, payment_provider_checkout_id, checkout_id, product_items, shipment_fees, taxes, payment_type: checkout.payment_method }</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="2681.5" y="1024.166">Checkout Payment</text><ellipse cx="2744" cy="993.6328" fill="#73C6B6" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="2732" x2="2756" y1="1007.6328" y2="1007.6328"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1655.5" x2="3517.5" y1="1038.2422" y2="1038.2422"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="31" x="1660.5" y="1049.6611">[COD]</text><polygon fill="#181818" points="2732,1071.4297,2742,1075.4297,2732,1079.4297,2736,1075.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1730.5" x2="2738" y1="1075.4297" y2="1075.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="557" x="1737.5" y="1070.5732">create { status=NEW, checkout_id, product_items, shipment_fees, taxes, payment_type: COD }</text><polygon fill="#181818" points="1274.5,1108.7813,1264.5,1112.7813,1274.5,1116.7813,1270.5,1112.7813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1268.5" x2="1724.5" y1="1112.7813" y2="1112.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="308" x="1280.5" y="1107.9248">checkout_payment { payment_provider_checkout_id }</text><path d="M1268,1125.7813 L1268,1200.7813 L1483,1200.7813 L1483,1135.7813 L1473,1125.7813 L1268,1125.7813 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1473,1125.7813 L1473,1135.7813 L1483,1135.7813 L1473,1125.7813 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="1274" y="1144.2764">checkout_payment:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="1282" y="1160.6279">- payment_provider_checkout_id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="1282" y="1176.9795">- checkout</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="1282" y="1193.3311">- payment_type</text><polygon fill="#181818" points="636.5,1224.5391,626.5,1228.5391,636.5,1232.5391,632.5,1228.5391" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="630.5" x2="1257.5" y1="1228.5391" y2="1228.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="642.5" y="1223.6826">checkout_payment</text><polygon fill="#181818" points="69.5,1254.8906,59.5,1258.8906,69.5,1262.8906,65.5,1258.8906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="63.5" x2="619.5" y1="1258.8906" y2="1258.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="538" x="75.5" y="1254.0342">redirect to payment_provider : Payment Provider: Checkout { payment_provider_checkout_id }</text><polygon fill="#181818" points="3006.5,1285.2422,3016.5,1289.2422,3006.5,1293.2422,3010.5,1289.2422" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="53.5" x2="3012.5" y1="1289.2422" y2="1289.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="298" x="60.5" y="1284.3857">execute payment { payment_provider_checkout_id }</text><polygon fill="#181818" points="3402.5,1315.5938,3412.5,1319.5938,3402.5,1323.5938,3406.5,1319.5938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="3028.5" x2="3408.5" y1="1319.5938" y2="1319.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="362" x="3035.5" y="1314.7373">update { status=COMPETED, payment_provider_checkout_id }</text><polygon fill="#181818" points="1741.5,1345.9453,1731.5,1349.9453,1741.5,1353.9453,1737.5,1349.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1735.5" x2="3017.5" y1="1349.9453" y2="1349.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="455" x="1747.5" y="1345.0889">{ checkout_id, payment_provider_checkout_id, status=COMPETED/FAILURE }</text><polygon fill="#181818" points="2732,1376.2969,2742,1380.2969,2732,1384.2969,2736,1380.2969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1730.5" x2="2738" y1="1380.2969" y2="1380.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="1737.5" y="1375.4404">update { status=COMPLETED }</text><polygon fill="#181818" points="2866.5,1406.6484,2876.5,1410.6484,2866.5,1414.6484,2870.5,1410.6484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1730.5" x2="2872.5" y1="1410.6484" y2="1410.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284" x="1737.5" y="1405.792">Event: PaymentCompleted { checkout_payment }</text><polygon fill="#181818" points="64.5,1437,54.5,1441,64.5,1445,60.5,1441" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58.5" x2="2882.5" y1="1441" y2="1441"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="70.5" y="1436.1436">notification for payment completion</text><polygon fill="#181818" points="1274.5,1467.3516,1264.5,1471.3516,1274.5,1475.3516,1270.5,1471.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1268.5" x2="1724.5" y1="1471.3516" y2="1471.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244" x="1280.5" y="1466.4951">Event: PaymentCompleted { checkout_id }</text><polygon fill="#181818" points="1534.5,1497.7031,1544.5,1501.7031,1534.5,1505.7031,1538.5,1501.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1263.5" x2="1540.5" y1="1501.7031" y2="1501.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250" x="1270.5" y="1496.8467">update { status=PAYMENT_CONFIRMED }</text><polygon fill="#181818" points="1600.5,1528.0547,1610.5,1532.0547,1600.5,1536.0547,1604.5,1532.0547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1263.5" x2="1606.5" y1="1532.0547" y2="1532.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325" x="1270.5" y="1527.1982">create { checkout_id, status=PAYMENT_CONFIRMED }</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="1612.5" y="1556.2363">Order</text><ellipse cx="1634" cy="1525.7031" fill="#3498DB" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="1622" x2="1646" y1="1539.7031" y2="1539.7031"/><polygon fill="#181818" points="2866.5,1571.3125,2876.5,1575.3125,2866.5,1579.3125,2870.5,1575.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1263.5" x2="2872.5" y1="1575.3125" y2="1575.3125"/><polygon fill="#181818" points="64.5,1601.6641,54.5,1605.6641,64.5,1609.6641,60.5,1605.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58.5" x2="2882.5" y1="1605.6641" y2="1605.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="70.5" y="1600.8076">notification for order creation</text><polygon fill="#181818" points="64.5,1632.0156,54.5,1636.0156,64.5,1640.0156,60.5,1636.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58.5" x2="3022.5" y1="1636.0156" y2="1636.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="70.5" y="1631.1592">redirect to storefront with confirmation</text><polygon fill="#181818" points="603.5,1662.3672,613.5,1666.3672,603.5,1670.3672,607.5,1666.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="53.5" x2="609.5" y1="1666.3672" y2="1666.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="60.5" y="1661.5107">confirmation page</text><polygon fill="#181818" points="64.5,1692.7188,54.5,1696.7188,64.5,1700.7188,60.5,1696.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58.5" x2="614.5" y1="1696.7188" y2="1696.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="70.5" y="1691.8623">payment confirmation</text><path d="M10,1711.7188 L83,1711.7188 L83,1720.0703 L73,1730.0703 L10,1730.0703 L10,1711.7188 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="170.1094" style="stroke:#000000;stroke-width:1.5;" width="1655.5" x="10" y="1711.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="25" y="1726.2139">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="122" x="98" y="1725.1377">["reload to get order"]</text><polygon fill="#181818" points="1241.5,1748.4219,1251.5,1752.4219,1241.5,1756.4219,1245.5,1752.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="625.5" x2="1247.5" y1="1752.4219" y2="1752.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="242" x="632.5" y="1747.5654">GET /order/orders/checkout/{checkout_id}</text><polygon fill="#181818" points="1622,1778.7734,1632,1782.7734,1622,1786.7734,1626,1782.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1263.5" x2="1628" y1="1782.7734" y2="1782.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="1270.5" y="1777.917">find order by {checkout_id}</text><polygon fill="#181818" points="1269.5,1809.125,1259.5,1813.125,1269.5,1817.125,1265.5,1813.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1263.5" x2="1633" y1="1813.125" y2="1813.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="1275.5" y="1808.2686">order</text><polygon fill="#181818" points="636.5,1839.4766,626.5,1843.4766,636.5,1847.4766,632.5,1843.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="630.5" x2="1257.5" y1="1843.4766" y2="1843.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="642.5" y="1838.6201">order</text><polygon fill="#181818" points="64.5,1869.8281,54.5,1873.8281,64.5,1877.8281,60.5,1873.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58.5" x2="614.5" y1="1873.8281" y2="1873.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="70.5" y="1868.9717">redirect to order details</text><!--SRC=[lLXRRzf857xthpWYRnKif8dInEfMob9IHTjW15IhFY777eTH0RlsG8CG_xqpzdZkDaILbXTWFESxvplN6HDCLWWcuNwDDWGULkalpmiZakOmt1OaNQCSmWAY-lT54iOVme7dFQUlyFr-vW7zP65ES8Ipa29qPbGM9Ncw8HqcMOY_L3PEtgCxu1zRDCXZgcA6yXsEK2cTifL5KQt0nTNrtMtyB8IfnPZieJDSekX7kgqKHlnFlLlRMMgGoDeUpPJQ8QenMRKcpVbm5TqytzZ2ZviTtPVcUqqSrwiIu7Pm-tntu-HIXqJZjE0cDAiUfmGdE0e9JZUQzetoG1h0euasCR20Lc4Lv2TvkiEbmovGc8J9PREVv5R5KHbVrCojYPgIFcXXD34MCguSZ1ljUI8vUv-KTFCPSeHG32GL3cIfZNSXGUwyf0OgwnHEop-A6Cpcq2yN-pLaqJ-8yE3usC-OrgBeSG8KKkXqPdFf5Fq9LIpOldldGu8PrJreYXno7tiz8UXBpau5LZRMxCG3nYJUHfGWzKdqeu03y9K59cXTG6K2JIm4ENvP4aWJNOzN5VgAIWF7I6XZqL3u7ctDz-eUqPCFOcNnvpOiiuWdL5mQKVuHlcwlDd0yxzdnZj9DWlDrLKrk-gO3B5nXzenvG8FimWeNL8g6kI1bWYILduJCGVm2-2XTiHXSVl8X-BVRzFWzU_njlWWU5hDvC6pUU5NYYASr9ysdCMhsQkNq5IkYoxlhsn0wuMPVCggvT3YaaO56hLuF1l1F6CCK_TmYwfC3ZARJOBeO1fz71XNM6bPf6FjqKojfE0e-QbMpwk8TmzSi1PJdQLxdL7jT-h3DOkQHGncwRV7tvFxxqsWyNqocmN0qcpsEly3HZM7CaRhm-7BzpUfDT85pIqq8u4sqsiP8BoMkTut8CerTDQOK95ilbZWh9HA4r7KIllB_TPw0NdmDan8u1ikNsjA_TAi0bwCAQDo5GXDDSM4cXaVbmngrwj6g2sc6T7MYNPrVjw8bKiP1nvndigQKyh8sEynTQEqzoX7JelNh1YpMuHl1M44qFgJy5MgsKrt8lkM_yz2LXc5Aj0NLEkKepf5b9ightPpkcoClySW-GtvZXeeUkIeGorCZ0yuWPhCQZ_xxSuEPBKUG7TpPUDKuopbdUlxCH3hTaC0choHXhrMDjj5H7JsDlp6vQZzu3GcfcgbC1-OUyn1WEgT2LJ1DuetJ9aSnpb54s97KgcqVce_4fmEYc2FLo-DkRGErJZqksnMFNb6qbNvwasAXv6JdzDxO9-rnEmoU9gFvwFEffbJ6ojRb6iDlQ7PTqup-m_tZrs_JKLaQf-QWTtQVSB7-olJn4hH0A8hhfkV3Q5S2yXGRfkjiXGYz71ti_3xgmxprvYZwWBr5JtrrItKBuDgYoXIwR9Qg2xMHjL6qPz3bVQorD_p9rQtvY3WCnW-FqoSHHGkYN63JJmuAL_ATYTUG4_zBbAlNB2MByoFSqbgTbUnki4eN_eN9KhjvUMr7bARt2TfjC0jVKDlRXBOn85DViOZTazCCEZbYbnj6u0MHYd_7d59sldyPYHSJrT5N7eNjjmPdP7LJKlAN4LLOdQyaN0SEBbf-cJbWdnhQnx44EMlCLfR6Y8HunUuix7pGC2n_0m00]--></g></svg>